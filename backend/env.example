# Server Configuration
NODE_ENV=development
PORT=5000
API_VERSION=v1

# Database (DB_NAME = database name; DB_USER = login user. Do not set DB_NAME to the same value as DB_USER.)
DB_HOST=postgres
DB_PORT=5432
DB_NAME=dockerfleet
DB_USER=dockerfleet_user
DB_PASSWORD=dockerfleet_password

# JWT
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
JWT_REFRESH_EXPIRES_IN=7d

# Encryption
ENCRYPTION_KEY=your-32-character-encryption-key!!

# CORS
CORS_ORIGIN=http://localhost:3020

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=info

# Email Alerts
# Note: When using Docker Compose, set these in the root .env file, not here
EMAIL_ENABLED=false
EMAIL_FROM_ADDRESS=noreply@dockerfleet.local
EMAIL_FROM_NAME=DockerFleet Manager
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
# For authenticated SMTP (Gmail, Outlook, etc.):
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
# For unauthenticated SMTP (port 25), leave SMTP_USER and SMTP_PASSWORD empty
SMTP_REJECT_UNAUTHORIZED=true

# Monitoring
# How often to check container status (in milliseconds)
MONITORING_CHECK_INTERVAL_MS=60000

# Alert Cooldown Settings (in milliseconds)
# How long to wait before resending alerts for the same issue
MONITORING_ALERT_COOLDOWN_MS=43200000
# 43200000 = 12 hours (default)
# 3600000 = 1 hour
# 86400000 = 24 hours

# Separate cooldown for "no auto-restart" alerts
MONITORING_NO_AUTO_RESTART_COOLDOWN_MS=43200000
# 43200000 = 12 hours (default)

# Alert Type Toggles (set to 'false' to disable)
MONITORING_ALERT_ON_CONTAINER_DOWN=true
MONITORING_ALERT_ON_CONTAINER_RECOVERY=true
MONITORING_ALERT_ON_NO_AUTO_RESTART=true

# Container update checks: skip suggesting updates for dev/local containers by name
# Comma-separated list of name suffixes; containers whose name ends with one of these are treated as dev (no update suggested).
# Default: -db-1,-postgres-1,-db (e.g. clipchef-db-1, stocks-postgres-1, textbin-db)
# Set to empty to disable name-based skipping (only labels com.dockerfleet.skip-update / com.dockerfleet.dev apply).
# SKIP_UPDATE_NAME_PATTERNS=-db-1,-postgres-1,-db
# SKIP_UPDATE_NAME_PATTERNS=   # disable defaults

# Thresholds
# Minimum time a container must be down before sending first alert (in milliseconds)
# Set to 0 to alert immediately when container goes down
MONITORING_MIN_DOWN_TIME_MS=0
# Examples:
# 0 = alert immediately
# 300000 = 5 minutes
# 600000 = 10 minutes
